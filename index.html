<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AJK Cleaning Company | Professional Cleaning Services in Bischofsheim</title>
  <meta name="description" content="Professional cleaning services for homes and businesses in Bischofsheim. Eco-friendly products, fully insured, and satisfaction guaranteed. Residential & commercial cleaning.">
  <meta name="keywords" content="cleaning service, Bischofsheim, residential cleaning, commercial cleaning, eco-friendly cleaning, move-in cleaning, deep cleaning">
  <meta name="author" content="AJK Cleaning Company">
  
  <!-- Preload critical resources -->
  <link rel="preload" as="image" href="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" imagesizes="100vw" imagesrcset="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80 600w, https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80 800w, https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80 1000w, https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80 1200w, https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80 1600w">
  
  <!-- Open Graph tags for social media sharing -->
  <meta property="og:title" content="AJK Cleaning Company | Professional Cleaning Services">
  <meta property="og:description" content="Professional cleaning services for homes and businesses in Bischofsheim. Eco-friendly products, fully insured, and satisfaction guaranteed.">
  <meta property="og:image" content="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
  <meta property="og:url" content="https://www.ajkcleaning.com">
  <meta property="og:type" content="website">
  
  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="AJK Cleaning Company | Professional Cleaning Services">
  <meta name="twitter:description" content="Professional cleaning services for homes and businesses in Bischofsheim.">
  <meta name="twitter:image" content="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.ajkcleaning.com">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <style>
    /* Custom styles with smooth transitions */
    :root {
      --primary: #1e40af;
      --primary-dark: #1e3a8a;
      --secondary: #059669;
      --secondary-dark: #047857;
    }

    * {
      scroll-behavior: smooth;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      line-height: 1.6;
    }

    /* Improved image loading with fade-in effect */
    img {
      transition: opacity 0.5s ease;
    }
    
    img[data-src] {
      opacity: 0;
    }
    
    img.loaded {
      opacity: 1;
    }

    /* Enhanced Navigation */
    .navbar-scrolled {
      box-shadow: 0 4px 18px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(12px);
      background: rgba(255, 255, 255, 0.97);
      transform: translateY(0);
    }

    .nav-link {
      position: relative;
      padding: 0.5rem 0;
      transition: all 0.3s ease;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: 0;
      left: 0;
      background-color: var(--primary);
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-link.active::after {
      width: 100%;
    }

    /* Enhanced mobile menu */
    .mobile-menu {
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      transform-origin: top;
      opacity: 0;
      transform: scaleY(0) translateY(-20px);
      display: none;
    }

    .mobile-menu.open {
      display: flex;
      opacity: 1;
      transform: scaleY(1) translateY(0);
    }

    /* Enhanced CTA button */
    .cta-button {
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
      z-index: 1;
    }

    .cta-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.6s ease;
      z-index: -1;
    }

    .cta-button:hover::before {
      left: 100%;
    }

    /* Logo animation */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .logo:hover {
      animation: pulse 1s infinite;
    }

    /* Mobile menu button animation */
    .menu-line {
      transition: all 0.3s ease;
    }

    .menu-open .menu-line:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }

    .menu-open .menu-line:nth-child(2) {
      opacity: 0;
    }

    .menu-open .menu-line:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }

    /* Improved Hero Section with gradient overlay */
    .hero-overlay {
      background: linear-gradient(135deg, rgba(10, 25, 47, 0.7) 0%, rgba(10, 25, 47, 0.5) 100%);
    }

    /* Service cards hover effect with transform and shadow */
    .service-card {
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      overflow: hidden;
    }

    .service-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.7s ease;
    }

    .service-card:hover::before {
      left: 100%;
    }

    /* Testimonial carousel with fade transition */
    .testimonial-container {
      scroll-behavior: smooth;
      scroll-snap-type: x mandatory;
    }

    .testimonial-slide {
      scroll-snap-align: start;
      flex: 0 0 auto;
      transition: opacity 0.5s ease;
    }

    /* Image gallery grid with masonry effect */
    .image-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      grid-auto-rows: 200px;
      grid-gap: 15px;
      grid-auto-flow: dense;
    }

    .gallery-item {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
    }

    .gallery-item:hover {
      transform: scale(1.03);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }

    .gallery-item:nth-child(3n) {
      grid-row: span 2;
    }

    .gallery-item:nth-child(5n) {
      grid-column: span 2;
    }

    /* Form validation styles */
    .form-input:invalid {
      border-color: #f87171;
    }

    .form-input:valid {
      border-color: #34d399;
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes fadeInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .animate-fade-in-up {
      animation: fadeInUp 0.8s ease-out forwards;
    }

    .animate-fade-in-left {
      animation: fadeInLeft 0.8s ease-out forwards;
    }

    .animate-fade-in-right {
      animation: fadeInRight 0.8s ease-out forwards;
    }

    /* Staggered animation for list items */
    .stagger-item {
      opacity: 0;
      animation: fadeInUp 0.6s ease-out forwards;
    }

    /* Loading animation */
    .loading-dots {
      display: inline-flex;
    }

    .loading-dots span {
      animation: loading 1.4s infinite ease-in-out both;
      background-color: currentColor;
      border-radius: 50%;
      display: inline-block;
      height: 8px;
      margin: 0 2px;
      width: 8px;
    }

    .loading-dots span:nth-child(1) {
      animation-delay: -0.32s;
    }

    .loading-dots span:nth-child(2) {
      animation-delay: -0.16s;
    }

    @keyframes loading {
      0%, 80%, 100% {
        transform: scale(0);
      }
      40% {
        transform: scale(1);
      }
    }

    /* Improved About Section Trust Points */
    .trust-point {
      background: #f8fafc;
      border-left: 4px solid #1e40af;
      transition: all 0.3s ease;
    }

    .trust-point:hover {
      background: #f1f5f9;
      transform: translateX(5px);
    }

    /* Enhanced Contact Form */
    .contact-form-card {
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      border-radius: 12px;
      transition: transform 0.3s ease;
    }

    .contact-form-card:hover {
      transform: translateY(-5px);
    }

    /* Stats counter animation */
    .stat-number {
      font-variant-numeric: tabular-nums;
    }

    /* Breadcrumb navigation */
    .breadcrumb {
      display: flex;
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .breadcrumb li:not(:last-child)::after {
      content: ">";
      margin: 0 10px;
      color: #6b7280;
    }

    /* Skip to main content link for accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: #000;
      color: #fff;
      padding: 8px;
      z-index: 100;
      text-decoration: none;
    }

    .skip-link:focus {
      top: 6px;
    }

    /* Improved accessibility */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* Focus styles for better accessibility */
    a:focus-visible,
    button:focus-visible,
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }

    /* Improved contrast for accessibility */
    .text-blue-100 {
      color: rgb(219, 234, 254);
    }

    /* Mobile sticky CTA fix */
    .sticky-cta {
      padding-bottom: constant(safe-area-inset-bottom);
      padding-bottom: env(safe-area-inset-bottom);
      z-index: 50;
    }

    /* Responsive hero image */
    .hero-image {
      background-image: url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    @media (min-width: 640px) {
      .hero-image {
        background-image: url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80');
      }
    }

    @media (min-width: 768px) {
      .hero-image {
        background-image: url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');
      }
    }

    @media (min-width: 1024px) {
      .hero-image {
        background-image: url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80');
      }
    }

    @media (min-width: 1280px) {
      .hero-image {
        background-image: url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80');
      }
    }

    /* Chat Widget Styles - Fixed positioning for mobile */
    .chat-widget-enhanced {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .chat-toggle {
        position: relative;
        width: 60px;
        height: 60px;
        background: #1e40af;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
        color: white;
    }

    .chat-toggle:hover {
        background: #1e3a8a;
        transform: scale(1.05);
    }

    .connection-indicator {
        position: absolute;
        top: 4px;
        right: 4px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #ef4444;
        border: 2px solid white;
        transition: all 0.3s ease;
    }

    .connection-indicator.connected {
        background: #10b981;
    }

    .unread-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: #ef4444;
        color: white;
        border-radius: 50%;
        min-width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        border: 2px solid white;
    }

    .chat-window {
        position: absolute;
        bottom: 75px;
        right: 0;
        width: 350px;
        height: 450px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transform: translateY(20px) scale(0.9);
        opacity: 0;
        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        display: none;
    }

    .chat-window.open {
        transform: translateY(0) scale(1);
        opacity: 1;
        display: flex;
    }

    .chat-header {
        background: #1e40af;
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .chat-header h3 {
        margin: 0;
        font-size: 16px;
        font-weight: 600;
    }

    .chat-status {
        font-size: 12px;
        opacity: 0.9;
    }

    .chat-header-actions {
        display: flex;
        gap: 5px;
    }

    .minimize-btn, .close-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
    }

    .minimize-btn:hover, .close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
    }

    .chat-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        background: #f8fafc;
    }

    .message {
        margin-bottom: 15px;
        animation: messageSlide 0.3s ease-out;
    }

    @keyframes messageSlide {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .message-content {
        max-width: 85%;
        padding: 10px 15px;
        border-radius: 18px;
        word-wrap: break-word;
        line-height: 1.4;
    }

    .user-message .message-content {
        background: #1e40af;
        color: white;
        margin-left: auto;
        border-bottom-right-radius: 4px;
    }

    .admin-message .message-content {
        background: white;
        color: #374151;
        border: 1px solid #e5e7eb;
        border-bottom-left-radius: 4px;
    }

    .system-message .message-content {
        background: #f3f4f6;
        color: #6b7280;
        margin: 0 auto;
        text-align: center;
        border-radius: 12px;
        font-size: 14px;
    }

    .message-time {
        font-size: 11px;
        color: #9ca3af;
        margin-top: 5px;
        text-align: right;
    }

    .user-message .message-time {
        text-align: right;
    }

    .admin-message .message-time {
        text-align: left;
    }

    .typing-indicator {
        padding: 15px;
        background: white;
        border-top: 1px solid #e5e7eb;
        display: flex;
        align-items: center;
        gap: 10px;
        display: none;
    }

    .typing-dots {
        display: flex;
        gap: 3px;
    }

    .typing-dots span {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #9ca3af;
        animation: typingDot 1.4s infinite ease-in-out;
    }

    .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
    .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typingDot {
        0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
        40% { transform: scale(1); opacity: 1; }
    }

    .typing-text {
        font-size: 12px;
        color: #6b7280;
    }

    .chat-input-container {
        background: white;
        border-top: 1px solid #e5e7eb;
    }

    .user-info {
        padding: 15px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        display: none;
    }

    .user-info input {
        border: 1px solid #d1d5db;
        border-radius: 8px;
        padding: 8px 12px;
        font-size: 14px;
    }

    .user-info input:focus {
        outline: none;
        border-color: #1e40af;
        box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
    }

    .user-info button {
        background: #1e40af;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 10px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.2s;
    }

    .user-info button:hover {
        background: #1e3a8a;
    }

    .chat-input-area {
        display: flex;
        padding: 15px;
        gap: 10px;
        align-items: flex-end;
    }

    #chat-input-enhanced {
        flex: 1;
        border: 1px solid #d1d5db;
        border-radius: 20px;
        padding: 10px 15px;
        font-size: 14px;
        resize: none;
        max-height: 100px;
        min-height: 40px;
    }

    #chat-input-enhanced:focus {
        outline: none;
        border-color: #1e40af;
        box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
    }

    #chat-send-enhanced {
        background: #1e40af;
        color: white;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
    }

    #chat-send-enhanced:hover:not(:disabled) {
        background: #1e3a8a;
        transform: scale(1.05);
    }

    #chat-send-enhanced:disabled {
        background: #9ca3af;
        cursor: not-allowed;
        transform: none;
    }

    /* Mobile-specific adjustments */
    @media (max-width: 768px) {
        .chat-widget-enhanced {
            bottom: 90px !important; /* Position above sticky buttons */
            right: 15px;
            z-index: 60; /* Higher than sticky CTA */
        }
        
        .chat-window {
            width: calc(100vw - 30px) !important;
            right: -15px !important;
            height: 400px;
            bottom: 75px !important;
        }
        
        .chat-toggle {
            width: 55px;
            height: 55px;
        }
    }

    /* Scrollbar styling */
    .chat-messages::-webkit-scrollbar {
        width: 6px;
    }

    .chat-messages::-webkit-scrollbar-track {
        background: #f1f5f9;
    }

    .chat-messages::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
    }

    .chat-messages::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
    }

    .connection-status {
        position: fixed;
        top: 10px;
        right: 10px;
        padding: 10px;
        border-radius: 5px;
        z-index: 10000;
        font-weight: bold;
    }
    .connection-status.connected { background: #4CAF50; color: white; }
    .connection-status.disconnected { background: #f44336; color: white; }
    .connection-status.connecting { background: #ff9800; color: white; }
  </style>

  <!-- Structured data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "AJK Cleaning Company",
    "description": "Professional cleaning services for homes and businesses in Bischofsheim",
    "url": "https://www.ajkcleaning.com",
    "telephone": "+4917661852286",
    "email": "rajau691@gmail.com",
    "serviceType": "Cleaning service",
    "openingHoursSpecification": [{
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
      "opens": "08:00",
      "closes": "18:00"
    }],
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Bahnhofstraße 5",
      "addressLocality": "Bischofsheim",
      "postalCode": "65474",
      "addressCountry": "DE"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Cleaning Services",
      "itemListElement": [
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Residential Cleaning"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Commercial Cleaning"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Deep Cleaning"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Move-In/Move-Out Cleaning"
          }
        }
      ]
    }
  }
  </script>
</head>
<body class="font-sans text-gray-800 antialiased">
  <!-- Skip to main content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Enhanced Navbar -->
  <header id="navbar" class="fixed w-full bg-white/90 z-50 transition-all duration-500 py-3">
    <div class="container mx-auto flex justify-between items-center px-6">
      <div class="flex items-center space-x-3">
        <!-- Updated logo with image -->
        <img src="images/logo.jpg" alt="AJK Cleaning Company Logo - Professional cleaning services in Bischofsheim" class="h-24 w-24 rounded-lg logo transition-transform duration-300 object-contain" width="96" height="96" loading="eager">
        <span class="font-bold text-xl text-primary transition-all duration-300">AJK Cleaning Company</span>
      </div>
      
      <nav class="hidden md:flex space-x-8 items-center" aria-label="Main navigation">
        <a href="#home" class="nav-link text-gray-700 hover:text-primary font-medium active" aria-current="page">Home</a>
        <a href="#services" class="nav-link text-gray-700 hover:text-primary font-medium">Services</a>
        <a href="#gallery" class="nav-link text-gray-700 hover:text-primary font-medium">Gallery</a>
        <a href="#about" class="nav-link text-gray-700 hover:text-primary font-medium">About</a>
        <a href="#testimonials" class="nav-link text-gray-700 hover:text-primary font-medium">Testimonials</a>
        <a href="#contact" class="nav-link text-gray-700 hover:text-primary font-medium">Contact</a>
        <a href="#contact" class="cta-button bg-gradient-to-r from-primary to-primary-dark text-white px-5 py-2.5 rounded-lg shadow-md hover:shadow-lg hover:from-primary-dark hover:to-primary-dark transition-all duration-300 font-semibold">GET A FREE QUOTE</a>
      </nav>
      
      <!-- Enhanced mobile menu button -->
      <button id="menu-btn" type="button" class="md:hidden flex flex-col w-8 h-8 justify-center items-center space-y-1.5 focus:outline-none" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobile-menu">
        <span class="menu-line block w-6 h-0.5 bg-primary transition-all duration-300"></span>
        <span class="menu-line block w-6 h-0.5 bg-primary transition-all duration-300"></span>
        <span class="menu-line block w-6 h-0.5 bg-primary transition-all duration-300"></span>
      </button>
    </div>
    
    <div id="mobile-menu" class="mobile-menu flex-col bg-white px-6 pb-6 space-y-3 md:hidden border-t shadow-lg" aria-hidden="true">
      <a href="#home" class="block py-3 px-4 rounded-lg hover:bg-blue-50 text-gray-700 hover:text-primary transition-all duration-300 font-medium active" aria-current="page">Home</a>
      <a href="#services" class="block py-3 px-4 rounded-lg hover:bg-blue-50 text-gray-700 hover:text-primary transition-all duration-300 font-medium">Services</a>
      <a href="#gallery" class="block py-3 px-4 rounded-lg hover:bg-blue-50 text-gray-700 hover:text-primary transition-all duration-300 font-medium">Gallery</a>
      <a href="#about" class="block py-3 px-4 rounded-lg hover:bg-blue-50 text-gray-700 hover:text-primary transition-all duration-300 font-medium">About</a>
      <a href="#testimonials" class="block py-3 px-4 rounded-lg hover:bg-blue-50 text-gray-700 hover:text-primary transition-all duration-300 font-medium">Testimonials</a>
      <a href="#contact" class="block py-3 px-4 rounded-lg hover:bg-blue-50 text-gray-700 hover:text-primary transition-all duration-300 font-medium">Contact</a>
      <a href="#contact" class="cta-button block bg-gradient-to-r from-primary to-primary-dark text-white px-4 py-3 rounded-lg text-center hover:shadow-md transition-all duration-300 mt-2 font-semibold">GET A FREE QUOTE</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="relative h-screen flex items-center justify-center text-center text-white pt-16 hero-image" role="banner" aria-labelledby="hero-heading">
    <div class="hero-overlay absolute inset-0"></div>
    <div class="relative z-10 max-w-4xl px-6 animate-fade-in-up">
      <h1 id="hero-heading" class="text-4xl md:text-6xl font-bold mb-4 leading-tight">Experience the AJK Standard of Clean in Bischofsheim</h1>
      <p class="mb-8 text-lg md:text-xl">Fully insured, eco-friendly products, and satisfaction guaranteed. Serving Bischofsheim and surrounding areas.</p>
      <div class="flex flex-col sm:flex-row justify-center gap-4">
        <a href="#contact" class="bg-primary text-white px-6 py-3 rounded-lg shadow hover:bg-primary-dark transition-colors duration-300 font-semibold">
          Book a Cleaning
        </a>
        <a href="#services" class="bg-transparent border-2 border-white text-white px-6 py-3 rounded-lg shadow hover:bg-white hover:text-primary transition-colors duration-300 font-semibold">
          Our Services
        </a>
      </div>
    </div>
    <a href="#services" class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce" aria-label="Scroll to services">
      <i class="fas fa-chevron-down text-2xl text-white"></i>
    </a>
  </section>

  <!-- Stats Section -->
  <section class="py-12 bg-primary text-white">
    <div class="container mx-auto px-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        <div class="animate-fade-in-up" style="animation-delay: 0.1s;">
          <div class="text-3xl md:text-4xl font-bold mb-2 stat-number" data-target="500">0</div>
          <div class="text-sm md:text-base">Happy Clients</div>
        </div>
        <div class="animate-fade-in-up" style="animation-delay: 0.2s;">
          <div class="text-3xl md:text-4xl font-bold mb-2 stat-number" data-target="1000">0</div>
          <div class="text-sm md:text-base">Cleaning Jobs</div>
        </div>
        <div class="animate-fade-in-up" style="animation-delay: 0.3s;">
          <div class="text-3xl md:text-4xl font-bold mb-2 stat-number" data-target="50">0</div>
          <div class="text-sm md:text-base">5-Star Reviews</div>
        </div>
        <div class="animate-fade-in-up" style="animation-delay: 0.4s;">
          <div class="text-3xl md:text-4xl font-bold mb-2 stat-number" data-target="3">0</div>
          <div class="text-sm md:text-base">Years Experience</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="py-16 bg-gray-50" aria-labelledby="services-heading">
    <div class="container mx-auto px-6 text-center">
      <h2 id="services-heading" class="text-3xl font-bold text-primary mb-4">Our Premium Cleaning Services</h2>
      <p class="text-gray-600 max-w-2xl mx-auto mb-12">We offer a wide range of cleaning services tailored to meet your specific needs and exceed your expectations in Bischofsheim and surrounding areas.</p>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <article class="service-card bg-white p-6 rounded-xl shadow-md relative">
          <div class="bg-gradient-to-br from-blue-100 to-blue-200 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" aria-hidden="true">
            <i class="fas fa-home text-primary text-2xl"></i>
          </div>
          <h3 class="font-bold text-lg mb-2">Residential Cleaning</h3>
          <p class="text-sm text-gray-600 mb-4">Keep your home spotless with our detailed cleaning services.</p>
          <a href="#contact" class="text-primary hover:underline font-medium inline-flex items-center">
            Learn More <i class="fas fa-arrow-right ml-2 text-xs" aria-hidden="true"></i>
          </a>
        </article>
        <article class="service-card bg-white p-6 rounded-xl shadow-md relative">
          <div class="bg-gradient-to-br from-blue-100 to-blue-200 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" aria-hidden="true">
            <i class="fas fa-building text-primary text-2xl"></i>
          </div>
          <h3 class="font-bold text-lg mb-2">Commercial Cleaning</h3>
          <p class="text-sm text-gray-600 mb-4">Reliable cleaning for offices and businesses of all sizes.</p>
          <a href="#contact" class="text-primary hover:underline font-medium inline-flex items-center">
            Learn More <i class="fas fa-arrow-right ml-2 text-xs" aria-hidden="true"></i>
          </a>
        </article>
        <article class="service-card bg-white p-6 rounded-xl shadow-md relative">
          <div class="bg-gradient-to-br from-blue-100 to-blue-200 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" aria-hidden="true">
            <i class="fas fa-broom text-primary text-2xl"></i>
          </div>
          <h3 class="font-bold text-lg mb-2">Deep Cleaning</h3>
          <p class="text-sm text-gray-600 mb-4">Thorough cleaning for a refreshed and healthy space.</p>
          <a href="#contact" class="text-primary hover:underline font-medium inline-flex items-center">
            Learn More <i class="fas fa-arrow-right ml-2 text-xs" aria-hidden="true"></i>
          </a>
        </article>
        <article class="service-card bg-white p-6 rounded-xl shadow-md relative">
          <div class="bg-gradient-to-br from-blue-100 to-blue-200 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" aria-hidden="true">
            <i class="fas fa-truck-moving text-primary text-2xl"></i>
          </div>
          <h3 class="font-bold text-lg mb-2">Move-In/Move-Out</h3>
          <p class="text-sm text-gray-600 mb-4">Start fresh in your new place with our moving cleaning.</p>
          <a href="#contact" class="text-primary hover:underline font-medium inline-flex items-center">
            Learn More <i class="fas fa-arrow-right ml-2 text-xs" aria-hidden="true"></i>
          </a>
        </article>
      </div>
    </div>
  </section>

  <!-- Image Gallery Section -->
  <section id="gallery" class="py-16 bg-white" aria-labelledby="gallery-heading">
    <div class="container mx-auto px-6">
      <h2 id="gallery-heading" class="text-3xl font-bold text-primary mb-4 text-center">Our Work Gallery</h2>
      <p class="text-gray-600 max-w-2xl mx-auto mb-12 text-center">Take a look at some of our recent cleaning projects in Bischofsheim.</p>
      
      <div class="image-gallery">
        <div class="gallery-item rounded-lg overflow-hidden">
          <img src="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Clean office space after professional cleaning" class="w-full h-full object-cover" loading="lazy">
        </div>
        <div class="gallery-item rounded-lg overflow-hidden">
          <img src="https://images.unsplash.com/photo-1584622650111-993a426fbf0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Sparkling clean kitchen after deep cleaning" class="w-full h-full object-cover" loading="lazy">
        </div>
        <div class="gallery-item rounded-lg overflow-hidden">
          <img src="https://images.unsplash.com/photo-1564078516393-cf04bd966897?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Professional cleaner working on a bathroom" class="w-full h-full object-cover" loading="lazy">
        </div>
        <div class="gallery-item rounded-lg overflow-hidden">
          <img src="https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Cleaning team working together efficiently" class="w-full h-full object-cover" loading="lazy">
        </div>
        <div class="gallery-item rounded-lg overflow-hidden">
          <img src="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Organized cleaning supplies and equipment" class="w-full h-full object-cover" loading="lazy">
        </div>
        <div class="gallery-item rounded-lg overflow-hidden">
          <img src="https://images.unsplash.com/photo-1590490360182-c33d57733427?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Clean and tidy living room after service" class="w-full h-full object-cover" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 bg-gray-50" aria-labelledby="about-heading">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div class="animate-fade-in-left">
          <h2 id="about-heading" class="text-3xl font-bold text-primary mb-4">About AJK Cleaning Company</h2>
          <p class="mb-6 text-gray-700">At AJK Cleaning Company, we are dedicated to providing premium cleaning services with a commitment to quality and community. Our team uses eco-friendly products and ensures every job meets our AJK standard of clean.</p>
          <p class="mb-6 text-gray-700">Founded in 2022, we've grown to become one of the most trusted cleaning services in the Bischofsheim area, serving hundreds of satisfied residential and commercial clients.</p>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-8">
            <div class="trust-point p-4 rounded-lg flex items-center stagger-item" style="animation-delay: 0.1s;">
              <i class="fas fa-shield-alt text-primary text-xl w-8 text-center" aria-hidden="true"></i>
              <span class="font-medium text-gray-700 ml-3">Fully Insured & Bonded</span>
            </div>
            <div class="trust-point p-4 rounded-lg flex items-center stagger-item" style="animation-delay: 0.2s;">
              <i class="fas fa-leaf text-green-600 text-xl w-8 text-center" aria-hidden="true"></i>
              <span class="font-medium text-gray-700 ml-3">Eco-Friendly Products</span>
            </div>
            <div class="trust-point p-4 rounded-lg flex items-center stagger-item" style="animation-delay: 0.3s;">
              <i class="fas fa-user-check text-primary text-xl w-8 text-center" aria-hidden="true"></i>
              <span class="font-medium text-gray-700 ml-3">Trained Professionals</span>
            </div>
            <div class="trust-point p-4 rounded-lg flex items-center stagger-item" style="animation-delay: 0.4s;">
              <i class="fas fa-thumbs-up text-green-600 text-xl w-8 text-center" aria-hidden="true"></i>
              <span class="font-medium text-gray-700 ml-3">Satisfaction Guaranteed</span>
            </div>
          </div>
        </div>
        <div class="animate-fade-in-right">
          <img src="https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Professional cleaning team working together at a client's location" class="rounded-xl shadow-md" width="600" height="400" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="py-16 bg-white" aria-labelledby="testimonials-heading">
    <div class="container mx-auto px-6 text-center">
      <h2 id="testimonials-heading" class="text-3xl font-bold text-primary mb-4">What Our Bischofsheim Clients Say</h2>
      <p class="text-gray-600 max-w-2xl mx-auto mb-12">Don't just take our word for it - hear from our satisfied customers in Bischofsheim and surrounding areas.</p>
      
      <div class="relative max-w-4xl mx-auto">
        <div id="testimonial-container" class="testimonial-container flex overflow-x-auto snap-x snap-mandatory scrollbar-hide" aria-live="polite">
          <div class="testimonial-slide w-full flex-shrink-0 px-4">
            <blockquote class="bg-white p-8 rounded-xl shadow-md mx-auto max-w-md">
              <div class="flex justify-center mb-4" aria-hidden="true">
                <div class="flex text-yellow-400">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
              <p class="italic text-gray-700 mb-6">"Fantastic service! My home has never been this clean. The team was professional, thorough, and used eco-friendly products. I highly recommend AJK Cleaning Company!"</p>
              <div class="flex items-center justify-center">
                <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Sarah M. - satisfied homeowner in Bischofsheim" class="w-12 h-12 rounded-full mr-4" width="48" height="48" loading="lazy">
                <div>
                  <h4 class="font-bold">Sarah M.</h4>
                  <p class="text-sm text-gray-600">Homeowner, Bischofsheim</p>
                </div>
              </div>
            </blockquote>
          </div>
          <div class="testimonial-slide w-full flex-shrink-0 px-4">
            <blockquote class="bg-white p-8 rounded-xl shadow-md mx-auto max-w-md">
              <div class="flex justify-center mb-4" aria-hidden="true">
                <div class="flex text-yellow-400">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
              <p class="italic text-gray-700 mb-6">"AJK keeps our office spotless. They're always punctual, and their attention to detail is impressive. Our employees love working in such a clean environment!"</p>
              <div class="flex items-center justify-center">
                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="David R. - satisfied office manager in Bischofsheim" class="w-12 h-12 rounded-full mr-4" width="48" height="48" loading="lazy">
                <div>
                  <h4 class="font-bold">David R.</h4>
                  <p class="text-sm text-gray-600">Office Manager, Bischofsheim</p>
                </div>
              </div>
            </blockquote>
          </div>
          <div class="testimonial-slide w-full flex-shrink-0 px-4">
            <blockquote class="bg-white p-8 rounded-xl shadow-md mx-auto max-w-md">
              <div class="flex justify-center mb-4" aria-hidden="true">
                <div class="flex text-yellow-400">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                </div>
              </div>
              <p class="italic text-gray-700 mb-6">"Professional and reliable. I love that they use eco-friendly products. They've been cleaning my restaurant for over a year now, and I couldn't be happier with their service."</p>
              <div class="flex items-center justify-center">
                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Linda W. - satisfied business owner in Bischofsheim" class="w-12 h-12 rounded-full mr-4" width="48" height="48" loading="lazy">
                <div>
                  <h4 class="font-bold">Linda W.</h4>
                  <p class="text-sm text-gray-600">Business Owner, Bischofsheim</p>
                </div>
              </div>
            </blockquote>
          </div>
        </div>
        
        <!-- Navigation dots -->
        <div class="flex justify-center mt-8 space-x-2" aria-label="Testimonial navigation">
          <button type="button" class="testimonial-dot w-3 h-3 rounded-full bg-primary" data-index="0" aria-label="Show testimonial 1"></button>
          <button type="button" class="testimonial-dot w-3 h-3 rounded-full bg-gray-300" data-index="1" aria-label="Show testimonial 2"></button>
          <button type="button" class="testimonial-dot w-3 h-3 rounded-full bg-gray-300" data-index="2" aria-label="Show testimonial 3"></button>
        </div>
        
        <!-- Arrows -->
        <button id="prev-btn" type="button" class="absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-4 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-300" aria-label="Previous testimonial">
          <i class="fas fa-chevron-left text-primary"></i>
        </button>
        <button id="next-btn" type="button" class="absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-4 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-300" aria-label="Next testimonial">
          <i class="fas fa-chevron-right text-primary"></i>
        </button>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-primary text-center text-white" aria-labelledby="cta-heading">
    <div class="container mx-auto px-6">
      <h2 id="cta-heading" class="text-3xl font-bold mb-4">Ready to Experience a Spotless Space in Bischofsheim?</h2>
      <p class="mb-8 text-lg max-w-2xl mx-auto">Schedule your cleaning today and get 10% off your first service!</p>
      <a href="#contact" class="bg-secondary text-white px-8 py-4 rounded-lg shadow hover:bg-secondary-dark transition-colors duration-300 font-semibold inline-block">SCHEDULE NOW</a>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-16 bg-gray-50" aria-labelledby="contact-heading">
    <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12">
      <div>
        <h2 id="contact-heading" class="text-3xl font-bold text-primary mb-4">Get In Touch</h2>
        <p class="mb-6 text-gray-700">We're here to answer any questions you may have about our services in Bischofsheim. Reach out to us and we'll respond as soon as we can.</p>
        <div class="space-y-3">
          <p class="flex items-center"><i class="fas fa-phone text-primary mr-3 w-5" aria-hidden="true"></i> <a href="tel:+4917661852286" class="hover:underline">+49 176 61852286</a></p>
          <p class="flex items-center"><i class="fas fa-envelope text-primary mr-3 w-5" aria-hidden="true"></i> <a href="mailto:rajau691@gmail.com" class="hover:underline">rajau691@gmail.com</a></p>
          <p class="flex items-center"><i class="fas fa-map-marker-alt text-primary mr-3 w-5" aria-hidden="true"></i><a href="https://www.google.com/maps/place/AJK+Cleaning+Service,+Bahnhofstra%C3%9Fe+5,+65474+Bischofsheim/data=!4m2!3m1!1s0x47bd99f5e82f18e9:0x40cfb0ac711244f6?utm_source=mstt_1&entry=gps&coh=192189&g_ep=CAESBjI1LjQuMRgAINeCAyp1LDk0MjMzMjk5LDk0MjE2NDEzLDk0MjEyNDk2LDk0MjA3Mzk0LDk0MjA3NTA2LDk0MjA4NTA2LDk0MjE3NTIzLDk0MjE4NjUzLDk0MjI5ODM5LDk0Mjc1MTY4LDQ3MDg0MzkzLDk0MjEzMjAwLDk0Mjg2ODgyQgJERQ%3D%3D&skid=0a492a4a-b748-4ed0-a280-1519521eb675" target="_blank" rel="noopener noreferrer">Bahnhofstraße 5, 65474 Bischofsheim, Germany</a></p>
          <p class="flex items-center"><i class="fas fa-clock text-primary mr-3 w-5" aria-hidden="true"></i> Mon - Sat: 8:00am - 6:00pm</p>
        </div>
        
        <!-- Service Area -->
        <div class="mt-8">
          <h3 class="text-xl font-bold text-primary mb-3">Service Area</h3>
          <p class="text-gray-700">We proudly serve Bischofsheim and surrounding areas including:</p>
          <ul class="list-disc list-inside mt-2 text-gray-600">
            <li>Bischofsheim</li>
            <li>Ginsheim-Gustavsburg</li>
            <li>Mainz</li>
            <li>Wiesbaden</li>
            <li>And surrounding communities</li>
          </ul>
        </div>
      </div>
      <div class="contact-form-card bg-white p-8 rounded-xl shadow-md">
        <h3 class="text-2xl font-bold text-primary mb-6">Get a Free Quote</h3>
        <form id="contact-form" class="space-y-4" novalidate>
          <div>
            <label for="name" class="sr-only">Name</label>
            <input type="text" id="name" name="name" placeholder="Name *" class="form-input w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required aria-required="true">
            <div class="text-red-500 text-sm mt-1 hidden" id="name-error" role="alert">Please enter your name</div>
          </div>
          <div>
            <label for="email" class="sr-only">Email</label>
            <input type="email" id="email" name="email" placeholder="Email *" class="form-input w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required aria-required="true">
            <div class="text-red-500 text-sm mt-1 hidden" id="email-error" role="alert">Please enter a valid email address</div>
          </div>
          <div>
            <label for="phone" class="sr-only">Phone Number</label>
            <input type="tel" id="phone" name="phone" placeholder="Phone Number" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
          </div>
          <div>
            <label for="service" class="sr-only">Select a Service</label>
            <select id="service" name="service" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" aria-label="Select a service">
              <option value="" disabled selected>Select a Service</option>
              <option value="Residential Cleaning">Residential Cleaning</option>
              <option value="Commercial Cleaning">Commercial Cleaning</option>
              <option value="Deep Cleaning">Deep Cleaning</option>
              <option value="Move-In/Move-Out Cleaning">Move-In/Move-Out Cleaning</option>
            </select>
          </div>
          <div>
            <label for="message" class="sr-only">Message</label>
            <textarea id="message" name="message" placeholder="Message" rows="4" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
          </div>
          <button type="submit" id="submit-btn" class="bg-secondary text-white px-6 py-3 rounded-lg shadow hover:bg-secondary-dark transition-colors duration-300 w-full font-semibold">
            <span id="submit-text">Submit</span>
            <span id="submit-loading" class="hidden loading-dots"><span></span><span></span><span></span></span>
          </button>
          <div id="form-success" class="bg-green-100 text-green-700 p-3 rounded-lg mt-4 hidden" role="alert">
            Thank you! Your message has been sent successfully. We'll get back to you soon.
          </div>
          <div id="form-error" class="bg-red-100 text-red-700 p-3 rounded-lg mt-4 hidden" role="alert">
            There was an error sending your message. Please try again later.
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-primary text-white py-12" role="contentinfo">
    <div class="container mx-auto px-6 grid md:grid-cols-4 gap-8">
      <div>
        <div class="flex items-center space-x-3 mb-4">
          <img src="images/logo.jpg" alt="AJK Cleaning Company Logo - Professional cleaning services in Bischofsheim" class="h-24 w-24 rounded-lg object-contain" width="96" height="96" loading="lazy">
          <span class="font-bold text-xl">AJK Cleaning Company</span>
        </div>
        <p class="text-blue-100">Premium Cleaning Solutions for Homes and Offices in Bischofsheim</p>
      </div>
      <div>
        <h4 class="font-bold mb-4 text-lg">Quick Links</h4>
        <ul class="space-y-2">
          <li><a href="#home" class="text-blue-100 hover:text-white transition-colors duration-300">Home</a></li>
          <li><a href="#services" class="text-blue-100 hover:text-white transition-colors duration-300">Services</a></li>
          <li><a href="#gallery" class="text-blue-100 hover:text-white transition-colors duration-300">Gallery</a></li>
          <li><a href="#about" class="text-blue-100 hover:text-white transition-colors duration-300">About</a></li>
          <li><a href="#testimonials" class="text-blue-100 hover:text-white transition-colors duration-300">Testimonials</a></li>
          <li><a href="#contact" class="text-blue-100 hover:text-white transition-colors duration-300">Contact</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-bold mb-4 text-lg">Our Services</h4>
        <ul class="space-y-2">
          <li><a href="#services" class="text-blue-100 hover:text-white transition-colors duration-300">Residential Cleaning</a></li>
          <li><a href="#services" class="text-blue-100 hover:text-white transition-colors duration-300">Commercial Cleaning</a></li>
          <li><a href="#services" class="text-blue-100 hover:text-white transition-colors duration-300">Deep Cleaning</a></li>
          <li><a href="#services" class="text-blue-100 hover:text-white transition-colors duration-300">Move-In/Move-Out</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-bold mb-4 text-lg">Follow Us</h4>
        <div class="flex space-x-4">
          <a href="#" class="bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-300 w-10 h-10 rounded-full flex items-center justify-center" aria-label="Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-300 w-10 h-10 rounded-full flex items-center justify-center" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-300 w-10 h-10 rounded-full flex items-center justify-center" aria-label="TikTok">
            <i class="fab fa-tiktok"></i>
          </a>
        </div>
        <div class="mt-6">
          <h4 class="font-bold mb-2">Subscribe to Our Newsletter</h4>
          <div class="relative flex items-center">
            <label for="newsletter-email" class="sr-only">Your email</label>
            <input type="email" id="newsletter-email" placeholder="Your email" class="bg-white bg-opacity-10 border-0 text-white pl-3 pr-12 py-2 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none placeholder-blue-200 w-full">
            <button type="button" class="absolute right-1 top-1/2 -translate-y-1/2 bg-secondary hover:bg-secondary-dark transition-colors duration-300 px-3 py-1 rounded-md" aria-label="Subscribe">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center mt-8 pt-6 border-t border-blue-700 text-blue-200 text-sm">
      © 2025 AJK Cleaning Company. All rights reserved. | <a href="/privacy" class="hover:text-white">Privacy Policy</a> | <a href="/terms" class="hover:text-white">Terms of Service</a>
    </div>
  </footer>

  <!-- Sticky CTA for mobile -->
  <div class="sticky-cta fixed bottom-0 left-0 right-0 bg-white shadow-lg p-3 flex justify-between items-center md:hidden z-50">
    <a href="tel:+4917661852286" class="flex items-center text-primary font-semibold px-4 py-2">
      <i class="fas fa-phone mr-2" aria-hidden="true"></i> Call Now
    </a>
    <a href="#contact" class="bg-secondary text-white px-4 py-2 rounded-lg font-semibold">
      Get Quote
    </a>
  </div>

  <!-- Fixed Chat Widget -->
  <div id="chat-widget-enhanced" class="chat-widget-enhanced">
      <button class="chat-toggle" id="chat-toggle-enhanced" type="button" aria-label="Toggle chat">
          <div class="chat-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
              </svg>
          </div>
          <div class="connection-indicator" id="connection-indicator"></div>
          <div class="unread-badge" id="unread-badge" style="display:none;" aria-hidden="true">0</div>
      </button>
      
      <div class="chat-window" id="chat-window-enhanced">
          <div class="chat-header">
              <div class="chat-header-info">
                  <h3>AJK Cleaning Support</h3>
                  <div class="chat-status" id="chat-status">Connecting...</div>
              </div>
              <div class="chat-header-actions">
                  <button class="minimize-btn" id="minimize-chat" type="button" aria-label="Minimize chat">−</button>
                  <button class="close-btn" id="close-chat" type="button" aria-label="Close chat">×</button>
              </div>
          </div>
          
          <div class="chat-messages" id="chat-messages">
              <!-- Messages will be added here -->
          </div>
          
          <div class="typing-indicator" id="typing-indicator">
              <div class="typing-dots">
                  <span></span>
                  <span></span>
                  <span></span>
              </div>
              <span class="typing-text">Support is typing...</span>
          </div>
          
          <div class="chat-input-container">
              <div class="user-info" id="user-info">
                  <input type="text" id="user-name" placeholder="Your name" maxlength="50" required>
                  <input type="email" id="user-email" placeholder="Your email (optional)" maxlength="100">
                  <button id="save-user-info" type="button">Start Chat</button>
              </div>
              <div class="chat-input-area" id="chat-input-area" style="display: none;">
                  <input type="text" id="chat-input-enhanced" placeholder="Type your message..." maxlength="500" aria-label="Message input">
                  <button id="chat-send-enhanced" type="button" aria-label="Send message">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                      </svg>
                  </button>
              </div>
          </div>
      </div>
  </div>

  <div id="connectionStatus" class="connection-status" style="display: none;">
    Connection Status
  </div>

  <!-- Tailwind configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1e40af',
            'primary-dark': '#1e3a8a',
            secondary: '#059669',
            'secondary-dark': '#047857',
          }
        }
      }
    }
  </script>

  <!-- Custom Script -->
  <script>
    // Enhanced Chat Widget System for AJK Cleaning
    class ChatWidget {
      constructor() {
        this.ws = null;
        this.isConnected = false;
        this.isTyping = false;
        this.typingTimeout = null;
        this.reconnectInterval = null;
        this.reconnectAttempts = 0;
        this.maxReconnectAttempts = 5;
        this.unreadCount = 0;
        this.identifyTimeout = null;
        this.hasIdentified = false; // Track if we've sent the initial identify message
        
        // Try to load existing client ID from storage
        this.clientId = localStorage.getItem('chatClientId') || this.generateClientId();
        this.userName = localStorage.getItem('chatUserName') || 'Guest';
        this.userEmail = localStorage.getItem('chatUserEmail') || '';
        
        // Store client ID for future sessions
        localStorage.setItem('chatClientId', this.clientId);
        
        this.init();
      }
      
      generateClientId() {
        try {
          if (window.crypto && typeof window.crypto.randomUUID === 'function') {
            return 'client_' + crypto.randomUUID();
          }
        } catch (e) {}
        return 'client_' + Date.now().toString(36) + Math.random().toString(36).substr(2, 9);
      }
      
      init() {
        this.attachEventListeners();
        this.connectWebSocket();
        
        // Load any saved messages
        this.loadSavedMessages();
        
        // Auto-open chat if there are unread messages
        if (localStorage.getItem('chat-unread-count')) {
          this.unreadCount = parseInt(localStorage.getItem('chat-unread-count')) || 0;
          this.updateUnreadBadge();
        }
      }
      
      // Method to save user info
      saveUserInfo() {
        localStorage.setItem('chatUserName', this.userName);
        localStorage.setItem('chatUserEmail', this.userEmail);
        
        // Send identification to server
        if (this.ws && this.ws.readyState === WebSocket.OPEN) {
          this.sendIdentifyMessage();
        }
      }
      
      sendIdentifyMessage() {
        if (this.ws && this.ws.readyState === WebSocket.OPEN) {
          this.ws.send(JSON.stringify({
            type: 'identify',
            name: this.userName,
            email: this.userEmail,
            isAdmin: false,
            clientId: this.clientId
          }));
        }
      }
      
      attachEventListeners() {
        const chatToggle = document.getElementById('chat-toggle-enhanced');
        const chatWindow = document.getElementById('chat-window-enhanced');
        const closeChat = document.getElementById('close-chat');
        const minimizeChat = document.getElementById('minimize-chat');
        const chatInput = document.getElementById('chat-input-enhanced');
        const chatSend = document.getElementById('chat-send-enhanced');
        const saveUserInfo = document.getElementById('save-user-info');
        
        if (!chatToggle) {
          console.error('Chat toggle element not found');
          return;
        }
        
        chatToggle.addEventListener('click', (e) => {
          e.stopPropagation();
          this.toggleChat();
        });
        
        if (closeChat) closeChat.addEventListener('click', () => this.closeChat());
        if (minimizeChat) minimizeChat.addEventListener('click', () => this.minimizeChat());
        if (chatSend) chatSend.addEventListener('click', () => this.sendMessage());
        if (saveUserInfo) saveUserInfo.addEventListener('click', () => this.saveUserInfoForm());
        
        // Handle Enter key for sending messages
        if (chatInput) {
          chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
              e.preventDefault();
              this.sendMessage();
            }
          });
          
          chatInput.addEventListener('input', () => this.handleTyping());
        }
        
        // Click outside to close
        document.addEventListener('click', (e) => {
          if (!e.target.closest('#chat-widget-enhanced') && 
              chatWindow && chatWindow.classList.contains('open')) {
            this.closeChat();
          }
        });
      }
      
      connectWebSocket() {
        try {
          // Determine WebSocket protocol based on current page protocol
          const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
          const wsUrl = `${protocol}//${window.location.host}?clientId=${encodeURIComponent(this.clientId)}`;
          
          console.log('Attempting WebSocket connection to:', wsUrl);
          this.ws = new WebSocket(wsUrl);
          
          this.ws.onopen = () => {
            console.log('WebSocket connected successfully');
            this.isConnected = true;
            this.reconnectAttempts = 0;
            this.updateConnectionStatus();
            this.enableChatInput();
            
            // The 'identify' message is now sent only when the user opens the chat.
            // This prevents creating empty chat sessions for every site visitor.
          };
          
          this.ws.onmessage = (event) => {
            try {
              const data = JSON.parse(event.data);
              this.handleServerMessage(data);
            } catch (error) {
              console.error('Error parsing WebSocket message:', error);
            }
          };
          
          this.ws.onclose = (event) => {
            console.log('WebSocket connection closed:', event.code, event.reason);
            this.isConnected = false;
            this.updateConnectionStatus();
            this.disableChatInput();
            
            // Clear the identify timeout
            if (this.identifyTimeout) {
              clearTimeout(this.identifyTimeout);
              this.identifyTimeout = null;
            }
            
            this.attemptReconnect();
          };
          
          this.ws.onerror = (error) => {
            console.error('WebSocket error:', error);
            this.isConnected = false;
            this.updateConnectionStatus('Connection error');
            
            // Clear the identify timeout
            if (this.identifyTimeout) {
              clearTimeout(this.identifyTimeout);
              this.identifyTimeout = null;
            }
          };
          
        } catch (error) {
          console.error('Failed to create WebSocket connection:', error);
          this.enableDemoMode();
        }
      }
      
      enableDemoMode() {
        console.log('Running in demo mode - no WebSocket connection');
        this.isConnected = true;
        setTimeout(() => {
          this.updateConnectionStatus();
          this.enableChatInput();
          this.sendWelcomeMessage();
        }, 1000);
      }
      
      sendWelcomeMessage() {
        // Only send welcome message if we haven't sent it before in this session
        if (!localStorage.getItem('welcomeSent')) {
          this.displayMessage(
            "Thank you for contacting AJK Cleaning! We have received your message and will get back to you shortly. For immediate assistance, please call us at +49-17661852286 or email Rajau691@gmail.com.",
            'system',
            'Support'
          );
          localStorage.setItem('welcomeSent', 'true');
        }
      }
      
      attemptReconnect() {
        if (this.reconnectAttempts < this.maxReconnectAttempts) {
          this.reconnectAttempts++;
          const delay = Math.min(1000 * Math.pow(2, this.reconnectAttempts), 10000);
          
          console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts}) in ${delay/1000}s...`);
          this.updateConnectionStatus(`Reconnecting in ${delay/1000}s...`);
          
          setTimeout(() => {
            if (!this.isConnected) {
              this.connectWebSocket();
            }
            this.updateConnectionStatus();
          }, delay);
        } else {
          console.log('Max reconnection attempts reached');
          this.updateConnectionStatus('Disconnected');
        }
      }
      
      updateConnectionStatus(customStatus = null) {
        const indicator = document.getElementById('connection-indicator');
        const status = document.getElementById('chat-status');
        
        if (!indicator || !status) return;
        
        if (customStatus) {
          status.textContent = customStatus;
          indicator.classList.remove('connected');
          return;
        }
        
        if (this.isConnected) {
          status.textContent = 'Online';
          indicator.classList.add('connected');
        } else {
          status.textContent = 'Connecting...';
          indicator.classList.remove('connected');
        }
      }
      
      enableChatInput() {
        const chatInput = document.getElementById('chat-input-enhanced');
        const chatSend = document.getElementById('chat-send-enhanced');
        
        if (chatInput) {
          chatInput.disabled = false;
          chatInput.placeholder = 'Type your message...';
        }
        if (chatSend) {
          chatSend.disabled = false;
        }
      }
      
      disableChatInput() {
        const chatInput = document.getElementById('chat-input-enhanced');
        const chatSend = document.getElementById('chat-send-enhanced');
        
        if (chatInput) {
          chatInput.disabled = true;
          chatInput.placeholder = 'Connecting to chat...';
        }
        if (chatSend) {
          chatSend.disabled = true;
        }
      }
      
      handleServerMessage(data) {
        console.log('Received server message:', data);
        
        switch (data.type) {
          case 'chat':
            // Always display admin messages, only display user messages if they're not from this client
            if (data.isAdmin || data.clientId !== this.clientId) {
              // Use data.message OR data.text (server might send either)
              const messageText = data.message || data.text;
              const messageType = data.type === 'system' ? 'system' : (data.isAdmin ? 'admin' : 'user');
              this.displayMessage(
                messageText,
                messageType, 
                data.name || (data.isAdmin ? 'Support' : 'Guest'),
                data.timestamp
              );
              
              // Save message to localStorage
              this.saveMessageToStorage({
                text: messageText,
                type: messageType,
                sender: data.name || (data.isAdmin ? 'Support' : 'Guest'),
                timestamp: data.timestamp || new Date().toISOString()
              });
              
              if (data.isAdmin) {
                this.playNotificationSound();
                this.incrementUnreadCount();
              }
            }
            break;
            
          case 'system':
            this.displayMessage(data.message, 'system', 'System', data.timestamp);
            break;
            
          case 'history':
            // Load chat history from server
            if (data.messages && Array.isArray(data.messages)) {
              // Clear UI and local cache before rendering server history
              const messagesContainer = document.getElementById('chat-messages');
              if (messagesContainer) { messagesContainer.innerHTML = ''; }
              try { localStorage.setItem('chatMessages', '[]'); } catch (e) {}

              data.messages.forEach(msg => {
                // Use msg.message OR msg.text (server might send either)
                const messageText = msg.message || msg.text;
                const messageType = msg.type === 'system' ? 'system' : (msg.isAdmin ? 'admin' : 'user');
                this.displayMessage(
                  messageText,
                  messageType,
                  msg.name || (msg.isAdmin ? 'Support' : 'Guest'),
                  msg.timestamp
                );
                
                // Save to localStorage
                this.saveMessageToStorage({
                  text: messageText,
                  type: messageType,
                  sender: msg.name || (msg.isAdmin ? 'Support' : 'Guest'),
                  timestamp: msg.timestamp
                });
              });
            }
            break;
            
          case 'typing':
            // Only show typing indicators from others
            if (data.clientId !== this.clientId) {
              this.showTypingIndicator(data.isTyping, data.name);
            }
            break;
            
          case 'admin':
            // Admin notifications (for debugging)
            console.log('Admin notification:', data.message);
            break;
            
          case 'chat_reset':
            this.handleChatReset();
            break;
            
          case 'client_id':
            // Clear the identify timeout
            if (this.identifyTimeout) {
              clearTimeout(this.identifyTimeout);
              this.identifyTimeout = null;
            }

            // Update client ID if server provides a different one
            if (data.clientId && data.clientId !== this.clientId) {
              this.clientId = data.clientId;
              localStorage.setItem('chatClientId', this.clientId);
              console.log('Received new client ID:', this.clientId);
            }
            
            // Do not clear UI or local cache on client_id; history may have just been loaded
            // Now identify ourselves to the server with the updated clientId
            this.sendIdentifyMessage();
            break;
            
          default:
            // If we receive any message, it implies the server is aware of us.
            // If we haven't identified yet, and the chat is open, do so.
            const chatWindow = document.getElementById('chat-window-enhanced');
            if (!this.hasIdentified && chatWindow && chatWindow.classList.contains('open')) this.sendIdentifyMessage();
        }
      }
      
      saveMessageToStorage(message) {
        try {
          // Get existing messages
          const storedMessages = JSON.parse(localStorage.getItem('chatMessages') || '[]');
          
          // Add new message
          storedMessages.push(message);
          
          // Save back to localStorage (limit to 100 messages to prevent storage issues)
          if (storedMessages.length > 100) {
            storedMessages.splice(0, storedMessages.length - 100);
          }
          
          localStorage.setItem('chatMessages', JSON.stringify(storedMessages));
        } catch (error) {
          console.error('Error saving message to storage:', error);
        }
      }
      
      loadSavedMessages() {
        try {
          const storedMessages = JSON.parse(localStorage.getItem('chatMessages') || '[]');
          
          storedMessages.forEach(msg => {
            this.displayMessage(
              msg.text,
              msg.type,
              msg.sender,
              msg.timestamp
            );
          });
        } catch (error) {
          console.error('Error loading saved messages:', error);
        }
      }
      
      displayMessage(message, type, sender = '', timestamp = null) {
        const messagesContainer = document.getElementById('chat-messages');
        if (!messagesContainer) return;
        
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${type}-message`;
        
        const time = timestamp ? new Date(timestamp) : new Date();
        const timeStr = time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        
        messageDiv.innerHTML = `
          <div class="message-content">
            ${message.split('\n').map(line => `<p>${this.escapeHtml(line)}</p>`).join('')}
          </div>
          <div class="message-time">${timeStr}${sender && sender !== 'Guest' ? ` • ${sender}` : ''}</div>
        `;
        
        messagesContainer.appendChild(messageDiv);
        this.scrollToBottom();
      }
      
      showTypingIndicator(isTyping, senderName = 'Support') {
        const indicator = document.getElementById('typing-indicator');
        if (!indicator) return;
        
        const typingText = indicator.querySelector('.typing-text');
        
        if (isTyping) {
          typingText.textContent = `${senderName} is typing...`;
          indicator.style.display = 'flex';
        } else {
          indicator.style.display = 'none';
        }
        
        this.scrollToBottom();
      }
      
      toggleChat() {
        const chatWindow = document.getElementById('chat-window-enhanced');
        if (!chatWindow) return;
        
        const isOpen = chatWindow.classList.contains('open');
        
        if (isOpen) {
          this.closeChat();
        } else {
          this.openChat();
        }
      }
      
      openChat() {
        const chatWindow = document.getElementById('chat-window-enhanced');
        const userInfo = document.getElementById('user-info');
        const chatInputArea = document.getElementById('chat-input-area');
        
        if (!chatWindow) return;
        
        chatWindow.style.display = 'flex';
        setTimeout(() => {
          chatWindow.classList.add('open');
        }, 10);
        
        // Show user info form if name is not set
        if ((!this.userName || this.userName === 'Guest') && userInfo && chatInputArea) {
          userInfo.style.display = 'flex';
          chatInputArea.style.display = 'none';
        } else if (userInfo && chatInputArea) {
          userInfo.style.display = 'none';
          chatInputArea.style.display = 'flex';
        }
        
        // Identify the user to the server the first time they open the chat.
        if (!this.hasIdentified && this.isConnected) {
          this.sendIdentifyMessage();
          this.hasIdentified = true;
        }
        
        this.clearUnreadCount();
        this.scrollToBottom();
      }
      
      closeChat() {
        const chatWindow = document.getElementById('chat-window-enhanced');
        if (!chatWindow) return;
        
        chatWindow.classList.remove('open');
        
        setTimeout(() => {
          chatWindow.style.display = 'none';
        }, 300);
      }
      
      minimizeChat() {
        this.closeChat();
      }
      
      // This method is called when the user submits the user info form
      saveUserInfoForm() {
        const nameInput = document.getElementById('user-name');
        const emailInput = document.getElementById('user-email');
        const userInfo = document.getElementById('user-info');
        const chatInputArea = document.getElementById('chat-input-area');
        const chatInput = document.getElementById('chat-input-enhanced');
        
        if (!nameInput) return;
        
        const name = nameInput.value.trim();
        const email = emailInput ? emailInput.value.trim() : '';
        
        if (!name) {
          nameInput.focus();
          nameInput.style.borderColor = '#ef4444';
          setTimeout(() => {
            nameInput.style.borderColor = '';
          }, 3000);
          return;
        }
        
        this.userName = name;
        this.userEmail = email;
        
        // Save to localStorage
        localStorage.setItem('chatUserName', name);
        if (email) localStorage.setItem('chatUserEmail', email);
        
        // Hide user info form and show chat input
        if (userInfo) userInfo.style.display = 'none';
        if (chatInputArea) chatInputArea.style.display = 'flex';
        
        // Update identification on server if connected
        this.sendIdentifyMessage();
        
        if (chatInput) chatInput.focus();
      }
      
      sendMessage() {
        const chatInput = document.getElementById('chat-input-enhanced');
        if (!chatInput) return;
        
        const message = chatInput.value.trim();
        
        if (!message) return;
        
        // Clear input immediately to prevent double-sending
        chatInput.value = '';
        
        console.log('Sending message:', message);
        
        // Display user message immediately for better UX
        this.displayMessage(message, 'user', this.userName);
        
        // Save to localStorage
        this.saveMessageToStorage({
          text: message,
          type: 'user',
          sender: this.userName,
          timestamp: new Date().toISOString()
        });
        
        // Send to server if connected
        if (this.isConnected && this.ws && this.ws.readyState === WebSocket.OPEN) {
          this.ws.send(JSON.stringify({
            type: 'chat',
            text: message,
            name: this.userName,
            email: this.userEmail,
            clientId: this.clientId,
            timestamp: new Date().toISOString()
          }));
        } else {
          // Demo response when not connected to server
          console.log('Not connected to server, showing demo response');
          setTimeout(() => {
            this.displayMessage(
              "Thanks for your message! We're currently offline, but we'll get back to you soon. You can also call us at +49 017616146259.", 
              'admin', 
              'Support'
            );
            
            // Save demo response to storage
            this.saveMessageToStorage({
              text: "Thanks for your message! We're currently offline, but we'll get back to you soon. You can also call us at +49 017616146259.",
              type: 'admin',
              sender: 'Support',
              timestamp: new Date().toISOString()
            });
          }, 1000);
        }
        
        this.stopTyping();
      }
      
      handleTyping() {
        if (!this.isConnected) return;
        
        if (!this.isTyping) {
          this.isTyping = true;
          // Send typing indicator to server
          if (this.ws && this.ws.readyState === WebSocket.OPEN) {
            this.ws.send(JSON.stringify({
              type: 'typing',
              isTyping: true,
              clientId: this.clientId
            }));
          }
        }
        
        // Clear existing timeout
        if (this.typingTimeout) {
          clearTimeout(this.typingTimeout);
        }
        
        // Set new timeout to stop typing indicator
        this.typingTimeout = setTimeout(() => {
          this.stopTyping();
        }, 1000);
      }
      
      stopTyping() {
        if (this.isTyping) {
          this.isTyping = false;
          // Send stop typing indicator to server
          if (this.ws && this.ws.readyState === WebSocket.OPEN) {
            this.ws.send(JSON.stringify({
              type: 'typing',
              isTyping: false,
              clientId: this.clientId
            }));
          }
        }
      }
      
      scrollToBottom() {
        const messagesContainer = document.getElementById('chat-messages');
        if (messagesContainer) {
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
      }
      
      incrementUnreadCount() {
        const chatWindow = document.getElementById('chat-window-enhanced');
        if (!chatWindow || chatWindow.classList.contains('open')) return;
        
        this.unreadCount++;
        this.updateUnreadBadge();
        localStorage.setItem('chat-unread-count', this.unreadCount.toString());
      }
      
      clearUnreadCount() {
        this.unreadCount = 0;
        this.updateUnreadBadge();
        localStorage.setItem('chat-unread-count', '0');
      }

      // Handle server-initiated chat reset (e.g., admin deleted this chat)
      handleChatReset() {
        try {
          localStorage.removeItem('chatMessages');
          localStorage.removeItem('chat-unread-count');
          localStorage.removeItem('welcomeSent');
          localStorage.removeItem('chatUserName');
          localStorage.removeItem('chatUserEmail');
          localStorage.removeItem('chatClientId');
        } catch (e) {}

        this.userName = 'Guest';
        this.userEmail = '';
        this.clearUnreadCount();

        const messagesContainer = document.getElementById('chat-messages');
        if (messagesContainer) {
          messagesContainer.innerHTML = '';
        }

        // Generate a new clientId so the next session is a brand-new ticket
        this.clientId = this.generateClientId();
        try { localStorage.setItem('chatClientId', this.clientId); } catch (e) {}

        // Inform the user
        this.displayMessage('Chat was reset. Please start a new conversation.', 'system', 'System', new Date().toISOString());

        // Force a reconnect so the server can initialize a fresh chat session
        if (this.ws && this.ws.readyState === WebSocket.OPEN) {
          try { this.ws.close(4000, 'reset'); } catch (e) {}
        } else {
          // If not open, connect immediately with the new clientId
          this.connectWebSocket();
        }
      }
      
      updateUnreadBadge() {
        const badge = document.getElementById('unread-badge');
        if (!badge) return;
        
        if (this.unreadCount > 0) {
          badge.textContent = this.unreadCount > 99 ? '99+' : this.unreadCount.toString();
          badge.style.display = 'flex';
        } else {
          badge.style.display = 'none';
        }
      }
      
      playNotificationSound() {
        // Create a subtle notification sound
        try {
          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
          const oscillator = audioContext.createOscillator();
          const gain = audioContext.createGain();
          
          oscillator.connect(gain);
          gain.connect(audioContext.destination);
          
          oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
          gain.gain.setValueAtTime(0.1, audioContext.currentTime);
          gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
          
          oscillator.start(audioContext.currentTime);
          oscillator.stop(audioContext.currentTime + 0.2);
        } catch (error) {
          // Ignore audio errors
        }
      }
      
      escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }
    }

    // Enhanced image lazy loading
    function lazyLoadImages() {
      const images = document.querySelectorAll('img[data-src]');
      
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            img.src = img.getAttribute('data-src');
            img.classList.add('loaded');
            img.removeAttribute('data-src');
            imageObserver.unobserve(img);
          }
        });
      });
      
      images.forEach(img => imageObserver.observe(img));
    }
    
    // Animate stats counter
    function animateStats() {
      const counters = document.querySelectorAll('.stat-number');
      const speed = 200;
      
      counters.forEach(counter => {
        const target = +counter.getAttribute('data-target');
        const count = +counter.innerText;
        const increment = target / speed;
        
        if (count < target) {
          counter.innerText = Math.ceil(count + increment);
          setTimeout(() => animateStats(counter, target, speed), 1);
        } else {
          counter.innerText = target;
        }
      });
    }
    
    // Stagger animation for list items
    function staggerAnimation() {
      const items = document.querySelectorAll('.stagger-item');
      
      items.forEach((item, index) => {
        const delay = item.style.animationDelay || '0s';
        item.style.animationDelay = `${index * 0.1}s`;
      });
    }
    
    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Enhanced mobile menu toggle
      const menuBtn = document.getElementById('menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      
      if (menuBtn && mobileMenu) {
        menuBtn.addEventListener('click', () => {
          const isExpanded = menuBtn.getAttribute('aria-expanded') === 'true';
          mobileMenu.classList.toggle('open');
          menuBtn.classList.toggle('menu-open');
          menuBtn.setAttribute('aria-expanded', !isExpanded);
          mobileMenu.setAttribute('aria-hidden', isExpanded);
        });
        
        // Close mobile menu when clicking on links
        document.querySelectorAll('#mobile-menu a').forEach(link => {
          link.addEventListener('click', () => {
            mobileMenu.classList.remove('open');
            menuBtn.classList.remove('menu-open');
            menuBtn.setAttribute('aria-expanded', 'false');
            mobileMenu.setAttribute('aria-hidden', 'true');
          });
        });
      }
      
      // Enhanced Navbar scroll effect
      const navbar = document.getElementById('navbar');
      const navLinks = document.querySelectorAll('.nav-link');
      
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          navbar.classList.add('navbar-scrolled');
          navbar.classList.add('py-2');
          navbar.classList.remove('py-3');
        } else {
          navbar.classList.remove('navbar-scrolled');
          navbar.classList.remove('py-2');
          navbar.classList.add('py-3');
        }
        
        // Update active nav link based on scroll position
        const sections = document.querySelectorAll('section');
        let currentSection = '';
        
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          
          if (window.scrollY >= sectionTop - 100) {
            currentSection = section.getAttribute('id');
          }
        });
        
        navLinks.forEach(link => {
          link.classList.remove('active');
          link.setAttribute('aria-current', 'false');
          if (link.getAttribute('href').substring(1) === currentSection) {
            link.classList.add('active');
            link.setAttribute('aria-current', 'page');
          }
        });
        
        // Set Home as active if at the top of the page
        if (window.scrollY < 100) {
          const homeLink = document.querySelector('a[href="#home"]');
          if (homeLink) {
            homeLink.classList.add('active');
            homeLink.setAttribute('aria-current', 'page');
          }
        }
      });
      
      // Testimonial carousel
      const testimonialContainer = document.getElementById('testimonial-container');
      const testimonialDots = document.querySelectorAll('.testimonial-dot');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      let currentTestimonial = 0;
      
      function showTestimonial(index) {
        if (testimonialContainer) {
          testimonialContainer.scrollTo({
            left: testimonialContainer.clientWidth * index,
            behavior: 'smooth'
          });
        }
        
        // Update active dot
        testimonialDots.forEach((dot, i) => {
          if (i === index) {
            dot.classList.add('bg-primary');
            dot.classList.remove('bg-gray-300');
            dot.setAttribute('aria-current', 'true');
          } else {
            dot.classList.remove('bg-primary');
            dot.classList.add('bg-gray-300');
            dot.setAttribute('aria-current', 'false');
          }
        });
        
        currentTestimonial = index;
      }
      
      testimonialDots.forEach((dot, index) => {
        dot.addEventListener('click', () => showTestimonial(index));
      });
      
      if (prevBtn) {
        prevBtn.addEventListener('click', () => {
          let newIndex = currentTestimonial - 1;
          if (newIndex < 0) newIndex = testimonialDots.length - 1;
          showTestimonial(newIndex);
        });
      }
      
      if (nextBtn) {
        nextBtn.addEventListener('click', () => {
          let newIndex = currentTestimonial + 1;
          if (newIndex >= testimonialDots.length) newIndex = 0;
          showTestimonial(newIndex);
        });
      }
      
      // Auto-rotate testimonials
      if (testimonialDots.length > 0) {
        setInterval(() => {
          let newIndex = currentTestimonial + 1;
          if (newIndex >= testimonialDots.length) newIndex = 0;
          showTestimonial(newIndex);
        }, 6000);
      }
      
      // Form validation and submission
      const contactForm = document.getElementById('contact-form');
      const nameInput = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const nameError = document.getElementById('name-error');
      const emailError = document.getElementById('email-error');
      const submitBtn = document.getElementById('submit-btn');
      const submitText = document.getElementById('submit-text');
      const submitLoading = document.getElementById('submit-loading');
      const formSuccess = document.getElementById('form-success');
      const formError = document.getElementById('form-error');
      
      if (contactForm) {
        contactForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          
          console.log('Form submission started...');
          
          let isValid = true;
          
          // Validate name
          if (!nameInput.value.trim()) {
            if (nameError) nameError.classList.remove('hidden');
            if (nameInput) nameInput.setAttribute('aria-invalid', 'true');
            isValid = false;
            console.log('Name validation failed');
          } else {
            if (nameError) nameError.classList.add('hidden');
            if (nameInput) nameInput.setAttribute('aria-invalid', 'false');
          }
          
          // Validate email
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(emailInput.value)) {
            if (emailError) emailError.classList.remove('hidden');
            if (emailInput) emailInput.setAttribute('aria-invalid', 'true');
            isValid = false;
            console.log('Email validation failed');
          } else {
            if (emailError) emailError.classList.add('hidden');
            if (emailInput) emailInput.setAttribute('aria-invalid', 'false');
          }
          
          if (isValid) {
            // Show loading state
            if (submitText) submitText.classList.add('hidden');
            if (submitLoading) submitLoading.classList.remove('hidden');
            if (submitBtn) submitBtn.disabled = true;
            
            try {
              // Prepare form data
              const formData = {
                name: document.getElementById('name').value.trim(),
                email: document.getElementById('email').value.trim(),
                phone: document.getElementById('phone')?.value?.trim() || '',
                service: document.getElementById('service')?.value || '',
                message: document.getElementById('message')?.value?.trim() || ''
              };
              
              console.log('Submitting form data:', formData);
              
              // Submit to the correct endpoint
              const response = await fetch('/api/form/submit', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData),
                credentials: 'include'
              });
              
              console.log('Response status:', response.status);
              const responseData = await response.json();
              console.log('Response data:', responseData);
              
              if (response.ok && responseData.success) {
                // Show success message
                if (formSuccess) formSuccess.classList.remove('hidden');
                if (formError) formError.classList.add('hidden');
                
                // Reset form
                contactForm.reset();
                
                console.log('✅ Form submitted successfully!');
                
                // Auto-hide success message after 5 seconds
                setTimeout(() => {
                  if (formSuccess) formSuccess.classList.add('hidden');
                }, 5000);
                
              } else {
                throw new Error(responseData.error || 'Submission failed');
              }
              
            } catch (error) {
              console.error('❌ Form submission error:', error);
              
              // Show error message
              if (formError) {
                formError.classList.remove('hidden');
                formError.textContent = `Error: ${error.message}`;
              }
              if (formSuccess) formSuccess.classList.add('hidden');
              
            } finally {
              // Reset button state
              if (submitText) submitText.classList.remove('hidden');
              if (submitLoading) submitLoading.classList.add('hidden');
              if (submitBtn) submitBtn.disabled = false;
            }
          } else {
            console.log('Form validation failed');
          }
        });
      }
      
      // Add intersection observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-in-up');
            
            // Animate stats when stats section is visible
            if (entry.target.classList.contains('stat-number')) {
              animateStats();
            }
            
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);
      
      // Observe elements with the animation class
      document.querySelectorAll('.service-card, .testimonial-slide, .stat-number, .animate-fade-in-left, .animate-fade-in-right').forEach(el => {
        observer.observe(el);
      });
      
      // Set Home as active on page load
      const homeLink = document.querySelector('a[href="#home"]');
      if (homeLink) {
        homeLink.classList.add('active');
        homeLink.setAttribute('aria-current', 'page');
      }
      
      // Add touch event listeners for mobile
      if ('ontouchstart' in window) {
        // Increase touch targets for mobile
        document.querySelectorAll('a, button').forEach(el => {
          if (el.offsetWidth < 44 || el.offsetHeight < 44) {
            el.style.minWidth = '44px';
            el.style.minHeight = '44px';
            el.style.display = 'inline-flex';
            el.style.alignItems = 'center';
            el.style.justifyContent = 'center';
          }
        });
      }
      
      // Initialize lazy loading
      lazyLoadImages();
      
      // Initialize stagger animations
      staggerAnimation();
      
      // Initialize enhanced chat widget
      setTimeout(() => {
        window.chatWidget = new ChatWidget();
        console.log('Chat widget initialized');
      }, 500);
    });

    // Test function to check server connectivity
    async function testServerConnection() {
      try {
        const response = await fetch('/api/health');
        const data = await response.json();
        console.log('Server connection test:', data);
        return data;
      } catch (error) {
        console.error('Server connection failed:', error);
        return null;
      }
    }
  </script>
</body>
</html>